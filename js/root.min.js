var root=window.root||{},functionBinder=function(a,b){"use strict";return function(){return a.apply(b,arguments)}};root.Carousel=function(){"use strict";function a(a,b){var c={autoplay:!1,autoplaySpeed:3e3,dots:!1,arrows:!0,infinite:!0,speed:300,swipable:!0};this.animType=null,this.autoPlayTimer=null,this.currentSlide=0,this.currentLeft=null,this.direction=1,this.dots=null,this.loadIndex=0,this.nextArrow=null,this.prevArrow=null,this.slideCount=null,this.sliderWidth=null,this.slideTrack=null,this.slides=null,this.sliding=!1,this.slideOffset=0,this.slider=$(a),this.swipeLeft=null,this.list=null,this.touchObject={},this.transformsEnabled=!1,this.options=$.extend({},c,b),this.changeSlide=functionBinder(this.changeSlide,this),this.setPosition=functionBinder(this.setPosition,this),this.swipeHandler=functionBinder(this.swipeHandler,this),this.autoPlayIterator=functionBinder(this.autoPlayIterator,this),this.init()}return a.prototype.init=function(){$(this.slider).hasClass("sliderInitialized")||($(this.slider).addClass("sliderInitialized"),this.setValues(),this.buildOut(),this.getAnimType(),this.setPosition(),this.intializeEvents(),this.startLoad())},a.prototype.getAnimType=function(){void 0!==document.body.style.MozTransform?this.animType="MozTransform":void 0!==document.body.style.webkitTransform?this.animType="webkitTransform":void 0!==document.body.style.msTransform&&(this.animType="msTransform"),null!==this.animType&&(this.transformsEnabled=!0)},a.prototype.autoPlay=function(){this.autoPlayTimer=setInterval(this.autoPlayIterator,this.options.autoplaySpeed)},a.prototype.autoPlayIterator=function(){this.options.infinite===!1?1===this.direction?(this.currentSlide+1===this.slideCount-1&&(this.direction=0),this.slideHandler(this.currentSlide+1)):(0===this.currentSlide-1&&(this.direction=1),this.slideHandler(this.currentSlide-1)):this.slideHandler(this.currentSlide+1)},a.prototype.startLoad=function(){this.list.find("img").css("opacity",0),this.options.arrows===!0&&(this.prevArrow.hide(),this.nextArrow.hide()),this.options.dots===!0&&this.dots.hide(),this.slider.addClass("bt-loading")},a.prototype.checkLoad=function(){var a=this,b=null;b=this.options.infinite===!0?a.slideCount+2:a.slideCount,a.loadIndex===b&&(a.setPosition(),a.list.find("img").animate({opacity:1},this.options.speed),a.options.arrows===!0&&(a.prevArrow.show(),a.nextArrow.show()),a.options.dots===!0&&a.dots.show(),a.slider.removeClass("bt-loading"),a.options.autoplay===!0&&a.autoPlay())},a.prototype.stopLoad=function(){this.loadIndex+=1,this.checkLoad()},a.prototype.setValues=function(){this.list=this.slider.find("ul:first").addClass("bt-list"),this.sliderWidth=this.list.width(),this.slides=$("li:not(.cloned)",this.list).addClass("slide"),this.slideCount=this.slides.length},a.prototype.buildOut=function(){var a;if(this.slider.addClass("bt-slider"),this.slideTrack=this.slides.wrapAll('<div class="bt-track"/>').parent(),this.options.arrows===!0&&(this.prevArrow=$('<a href="javascript:void(0)">Previous</a>').appendTo(this.slider).addClass("bt-prev"),this.nextArrow=$('<a href="javascript:void(0)">Next</a>').appendTo(this.slider).addClass("bt-next"),this.options.infinite!==!0&&this.prevArrow.addClass("disabled")),this.options.dots===!0){for(this.dots=$('<ul class="bt-dots"></ul>').appendTo(this.slider),a=1;this.slideCount>=a;a+=1)$('<li><a href="javascript:void(0)">'+a+"</a></li>").appendTo(this.dots);this.dots.find("li").first().addClass("active")}this.options.infinite===!0&&(this.slides.first().clone().appendTo(this.slideTrack).addClass("cloned"),this.slides.last().clone().prependTo(this.slideTrack).addClass("cloned"))},a.prototype.setDimensions=function(){this.list.find("li").width(this.sliderWidth),this.slideTrack.width(this.sliderWidth*this.slider.find("li").length)},a.prototype.setPosition=function(){var a={},b=-1*this.currentSlide*this.sliderWidth+this.slideOffset;this.setValues(),this.setDimensions(),this.options.infinite===!0&&(this.slideOffset=-1*this.sliderWidth),this.transformsEnabled===!1?this.slideTrack.css("left",b):(a[this.animType]="translate("+b+"px, 0px)",this.slideTrack.css(a))},a.prototype.intializeEvents=function(){var a=this;this.options.arrows===!0&&(this.prevArrow.on("click",{message:"previous"},this.changeSlide),this.nextArrow.on("click",{message:"next"},this.changeSlide)),this.options.dots===!0&&$("li a",this.dots).on("click",{message:"index"},this.changeSlide),this.options.swipable===!0&&(this.list.on("touchstart",{action:"start"},this.swipeHandler),this.list.on("touchmove",{action:"move"},this.swipeHandler),this.list.on("touchend",{action:"end"},this.swipeHandler)),$(window).on("resize",this.setPosition),this.list.find("img").load(function(){a.stopLoad()})},a.prototype.changeSlide=function(a){switch(a.data.message){case"previous":this.slideHandler(this.currentSlide-1);break;case"next":this.slideHandler(this.currentSlide+1);break;case"index":this.slideHandler($(a.target).parent().index());break;default:return!1}},a.prototype.updateDots=function(){this.dots.find("li").removeClass("active"),$(this.dots.find("li").get(this.currentSlide)).addClass("active")},a.prototype.slideHandler=function(a){var c,d,b={},e=null,f=this;if(c=a,e=-1*c*this.sliderWidth+this.slideOffset,d=-1*this.currentSlide*this.sliderWidth+this.slideOffset,f.options.autoplay===!0&&clearInterval(this.autoPlayTimer),this.currentLeft=null===this.swipeLeft?d:this.swipeLeft,0>c){if(this.options.infinite!==!0)return!1;this.transformsEnabled===!1?this.slideTrack.animate({left:e},f.options.speed,function(){f.currentSlide=f.slideCount-1,f.setPosition(),f.options.dots&&f.updateDots(),f.options.autoplay===!0&&f.autoPlay()}):$({animStart:this.currentLeft}).animate({animStart:e},{duration:f.options.speed,step:function(a){b[f.animType]="translate("+a+"px, 0px)",f.slideTrack.css(b)},complete:function(){f.currentSlide=f.slideCount-1,f.setPosition(),null!==f.swipeLeft&&(f.swipeLeft=null),f.options.dots&&f.updateDots(),f.options.autoplay===!0&&f.autoPlay()}})}else if(c>this.slideCount-1){if(this.options.infinite!==!0)return!1;this.transformsEnabled===!1?this.slideTrack.animate({left:e},f.options.speed,function(){f.currentSlide=0,f.setPosition(),f.options.dots&&f.updateDots(),f.options.autoplay===!0&&f.autoPlay()}):$({animStart:this.currentLeft}).animate({animStart:e},{duration:f.options.speed,step:function(a){b[f.animType]="translate("+a+"px, 0px)",f.slideTrack.css(b)},complete:function(){f.currentSlide=0,f.setPosition(),null!==f.swipeLeft&&(f.swipeLeft=null),f.options.dots&&f.updateDots(),f.options.autoplay===!0&&f.autoPlay()}})}else this.transformsEnabled===!1?this.slideTrack.animate({left:e},f.options.speed,function(){f.currentSlide=c,f.options.dots&&f.updateDots(),f.options.autoplay===!0&&f.autoPlay(),f.options.arrows===!0&&f.options.infinite!==!0&&(0===f.currentSlide?f.prevArrow.addClass("disabled"):f.currentSlide===f.slideCount-1?f.nextArrow.addClass("disabled"):(f.prevArrow.removeClass("disabled"),f.nextArrow.removeClass("disabled")))}):$({animStart:this.currentLeft}).animate({animStart:e},{duration:f.options.speed,step:function(a){b[f.animType]="translate("+a+"px, 0px)",f.slideTrack.css(b)},complete:function(){f.currentSlide=c,null!==f.swipeLeft&&(f.swipeLeft=null),f.options.dots&&f.updateDots(),f.options.autoplay===!0&&f.autoPlay(),f.options.arrows===!0&&f.options.infinite!==!0&&(0===f.currentSlide?f.prevArrow.addClass("disabled"):f.currentSlide===f.slideCount-1?f.nextArrow.addClass("disabled"):(f.prevArrow.removeClass("disabled"),f.nextArrow.removeClass("disabled")))}})},a.prototype.swipeHandler=function(a){var c,b={},d=null;switch(c=-1*this.currentSlide*this.sliderWidth+this.slideOffset,a.originalEvent.preventDefault(),this.touchObject.fingerCount=a.originalEvent.touches.length,this.touchObject.minSwipe=this.sliderWidth/4,a.data.action){case"start":1===this.touchObject.fingerCount?(this.touchObject.startX=a.originalEvent.touches[0].pageX,this.touchObject.startY=a.originalEvent.touches[0].pageY,this.touchObject.curX=a.originalEvent.touches[0].pageX,this.touchObject.curY=a.originalEvent.touches[0].pageY):this.touchObject={};break;case"move":1===a.originalEvent.touches.length?(this.touchObject.curX=a.originalEvent.touches[0].pageX,this.touchObject.curY=a.originalEvent.touches[0].pageY,this.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(this.touchObject.curX-this.touchObject.startX,2))),this.touchObject.curX>this.touchObject.startX?(d=c+this.touchObject.swipeLength,this.transformsEnabled===!1?this.slideTrack.css("left",d):(b[this.animType]="translate("+d+"px, 0px)",this.slideTrack.css(b),this.swipeLeft=d)):(d=c-this.touchObject.swipeLength,this.transformsEnabled===!1?this.slideTrack.css("left",d):(b[this.animType]="translate("+d+"px, 0px)",this.slideTrack.css(b),this.swipeLeft=d))):this.touchObject={};break;case"end":if(0===this.touchObject.fingerCount&&0!==this.touchObject.curX)if(this.touchObject.swipeLength>=this.touchObject.minSwipe)switch(this.swipeDirection()){case"left":this.slideHandler(this.currentSlide+1),this.touchObject={};break;case"right":this.slideHandler(this.currentSlide-1),this.touchObject={}}else this.slideHandler(this.currentSlide),this.touchObject={};else this.touchObject={};break;case"cancel":}},a.prototype.swipeDirection=function(){var a,b,c,d;return a=this.touchObject.startX-this.touchObject.curX,b=this.touchObject.startY-this.touchObject.curY,c=Math.atan2(b,a),d=Math.round(180*c/Math.PI),0>d&&(d=360-Math.abs(d)),45>=d&&d>=0?"left":360>=d&&d>=315?"left":d>=135&&225>=d?"right":void 0},a}(),$.fn.carousel=function(a){"use strict";var b=[];return this.each(function(c){b[c]=new root.Carousel(this,a)})};